<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Troubleshooting</title>
        <link rel="stylesheet" href="styleFrontPage.css">
    </head>
    <body>
        <div class="main-container">
            <div class="header">
                <h1>Troubleshooting</h1>
                <p>Search for an issue or see code documentation</p>
            </div>
            <div class="form-content">
                <div class="form-section toc">
                    <h2 class="section-title">Table of Contents</h2>
                    <p>Click to navigate to selected section</p><br>
                    <ul>
                        <li><a href="#inventoryFields">Inventory</a></li>
                        <li><a href="#purchaseOrderFields">Purchase Orders</a></li>
                        <li><a href="#repairFields">Repairs</a></li>
                        <li><a href="#otherFields">Other</a></li>
                    </ul>
                </div>

                <div class="form-section">
                    <h2 class="section-title" id="inventoryFields">Troubleshooting for Inventory</h2>
                    

                </div>

                <div class="form-section">
                    <h2 class="section-title" id="purchaseOrderFields">Troubleshooting for Purchase Orders</h2>

                    <h2 class="title-section collapsible"><strong>Delete Purchase Order</strong></h2>
                    <div class="collapsible-content" style="display:none;">
                        <p><strong><u>Steps to Delete Purchase Order:</u></strong><br>
                            <br><b>First - Delete Parts from PO Items Database</b><br>
                            1.  Open a new .sql file on a computer with connection to the SQL Server <br>
                            2.  Add the following text: <br>
                            <strong>DELETE FROM dbo.POItems WHERE PONum= '<i>PO Number</i>';</strong><br>
                            3.  Replace '<i>PO Number</i>' with the Purchase Order Number Submitted, making sure to wrap the number in single quotes <br>
                            4.  Run the file and confirm deletion of parts associated with the PO number. <br>
                            <br><b>Next - Delete PO from Purchase Order Database</b><br>
                            5.  Update the .sql file on the same computer to say:<br>
                            <strong>DELETE FROM dbo.POs WHERE PONum= '<i>PO Number</i>';</strong><br>
                            6.  Replace '<i>PO Number</i>' with the Purchase Order Number Submitted, making sure to wrap the number in single quotes <br>
                            7.  Run the file and confirm deletion of Purchase Order.<br>
                        </p>
                    </div>
                    
                    <h2 class="title-section collapsible"><strong>Add, Change or Delete Email Recipient</strong></h2>
                    <div class="collapsible-content" style="display:none;">
                        <p><strong><u>Steps to Change Email Recipient</u></strong><br>
                            <br>1.  Locate the file called "submitPO.php"<br>
                            2.  Inside the 'sendPurchaseOrderEmail' function, find the recipient section<br>
                            3.  To add a CC recipient add "$mail->addCC('<i>EMAIL</i>', '<i>NAME</i>');"<br>
                            4.  Replace EMAIL and NAME with the intended addresses and make sure to wrap both values in single quotes<br>
                            5.  Save the file and ensure proper functionality.
                        </p>
                    </div>

                    <h2 class="title-section collapsible"><strong><u>Add</u> a Section/Questions to Purchase Order Form</strong></h2>
                    <div class="collapsible-content" style="display:none;">
                        <p><strong><u>Steps to Add a Section/Questions to PO Form:</u></strong><br>
                            <br>1.  Locate the file called "CreatePO.php"
                            <br>2.  Find the location where you want to add your section/question
                            <br>3.  Use HTML to add the section/questions
                            <br>4.  Make sure the section/questions is inside a form '< form >< /form >' tag
                            <br>5.  Save the file and locate "submitPO.php"
                            <br>6.  Add section to both the 'generatePlainTextVersion' and 'sendPurchaseOrderEmail' functions to display the information from the new section/question
                            <br>7.  Save the file and ensure proper functionality.
                        </p>
                    </div>

                    <h2 class="title-section collapsible"><strong><u>Change</u> a Section/Questions in Purchase Order Form</strong></h2>
                    <div class="collapsible-content" style="display:none;">
                        <p><strong><u>Steps to Change a Section/Questions in PO Form:</u></strong><br>
                            <br>1.  Locate the file called "CreatePO.php"
                            <br>2.  Find the location of the section/questions you want to change
                            <br>3.  Use HTML to update the section/questions
                            <br>4.  Make sure the section/questions is inside a form '< form >< /form >' tag
                            <br>5.  Save the file and locate "submitPO.php"
                            <br>6.  Update section in both the 'generatePlainTextVersion' and 'sendPurchaseOrderEmail' functions to display the information using the correct input type from the updated section/question
                            <br>7.  Save the file and ensure proper functionality.
                        </p>
                    </div>

                    <h2 class="title-section collapsible"><strong><u>Remove</u> a Section/Questions from Purchase Order Form</strong></h2>
                    <div class="collapsible-content" style="display:none;">
                        <p><strong><u>Steps to Remove a Section/Questions from PO Form:</u></strong><br>
                            <br>1.  Locate the file called "CreatePO.php"
                            <br>2.  Find the location of the section/question you wish to remove
                            <br>3.  Delete the section/question
                            <br>4.  Delete all references to that section/question
                            <br>5.  Save the file and locate "submitPO.php"
                            <br>6.  Remove section from both the 'generatePlainTextVersion' and 'sendPurchaseOrderEmail' functions about the section/question
                            <br>7.  Save the file and ensure proper deletion.
                        </p>
                    </div>

                </div>

                <div class="form-section">    
                    <h2 class="section-title" id="repairFields">Troubleshooting for Repairs</h2>

                    <h2 class="title-section collapsible"><strong>Delete Repair</strong></h2>
                    <div class="collapsible-content" style="display:none;">
                        <p><strong><u>Steps to Delete a Repair:</u></strong><br><br>
                            1.  Open a new .sql file on a computer with connection to the SQL Server <br>
                            2.  Add the following text: <br>
                            <strong>DELETE FROM dbo.Repairs WHERE SerialNumber='<i>Serial Number</i>';</strong><br>
                            3.  Replace '<i>Serial Number</i>' with the Repair Serial Number, making sure to wrap the number in single quotes.<br>
                            4.  Run the file and ensure proper deletion from Repair Database.
                        </p>
                    </div>

                    <h2 class="title-section collapsible"><strong>Add, Change or Delete Section/Questions from Repair Forms</strong></h2>
                    <div class="collapsible-content" style="display:none;">
                        <p>Follow same directions as Purchase Order Additions, Changes or Deletions<br>
                            <br>Locate "newInboundRepair.php" and "newRepair.php".
                        </p>
                    </div>


                </div>

                <div class="form-section">    
                    <h2 class="section-title" id="otherFields">Other Troubleshooting</h2>

                    <h2 class="title-section collapsible"><strong>BASIC SQL COMMANDS</strong></h2>
                    <div class="collapsible-content" style="display:none;">
                        <p><b>INSERT:</b><br>This term is used to add rows into tables in the database.<br>Example usage: "INSERT INTO dbo.ExTable (column1, column2) VALUES ('ex', 'ex'), ('ex2', 'ex2');" </p>
                        <p><b>UPDATE:</b><br>This term is used to change values in rows already in the database.<br>Example usage: "UPDATE dbo.ExTable SET column1 = 'ex' WHERE column2 = 'ex2';" </p>
                        <p><b>DELETE:</b><br>This term is used to delete a row from a table in the database.<br>Example usage: "DELETE FROM dbo.ExTable WHERE column1 = 'ex';" </p>
                    </div>

                </div>

            </div>
            <!-- Navigation -->
            <div class="navigation">
                <button onclick="location.href='FrontPage.html'" class="btn btn-secondary">
                    Return to Front Page
                </button>
                <button onclick="location.href='ReportIssue.html'" class="btn btn-secondary">
                    Report an Issue
                </button>
            </div>
        </div>
    </body>
</html>
<script>
    document.querySelectorAll('.title-section.collapsible').forEach(function(header) {
        header.style.cursor = 'pointer';
        header.addEventListener('click', function() {
            var content = this.nextElementSibling;
            this.classList.toggle('active');
            if (content.style.display === 'none' || content.style.display === '') {
                content.style.display = 'block';
            } else {
                content.style.display = 'none';
            }
        });
    });
</script>